<div class="container" style="margin-top: 4%">
  <div class="row">
    <div class="col"></div>
    <h4 class="display-5 col">Listado de empleados activos</h4>
    <div class="col"></div>
  </div>
  <div class="row">
    <div class="col">
      <label>Filtrar por empresa</label>
      <select (change)="setCompanyFilter($event.target.value)">
        <option value="0" selected="selected">Todas</option>
        <option *ngFor=" let company of companies" [value]="company.codigoEmpresa">
          {{ company.nombreEmpresa }}
        </option>
      </select>

    </div>
    <div class="col">
      <label>Año&nbsp;&nbsp;</label>
      <select [(ngModel)]="anyo" (change)="setYearFilter($event.target.value)">
        <option value="2019">2019</option>
        <option value="2018">2018</option>
        <option value="2017">2017</option>
        <option value="2016">2016</option>
        <option value="2015">2015</option>
      </select>&nbsp;&nbsp;
      <span class="col">
        <Label>Mes&nbsp;&nbsp;</Label>
        <select [(ngModel)]="mes" (change)="setMonthFilter($event.target.value)">
          <option value="1">Enero</option>
          <option value="2">Febrero</option>
          <option value="3">Marzo</option>
          <option value="4">Abril</option>
          <option value="5">Mayo</option>
          <option value="6">Junio</option>
          <option value="7">Julio</option>
          <option value="8">Agosto</option>
          <option value="9">Septiembre</option>
          <option value="10">Octubre</option>
          <option value="11">Noviembre</option>
          <option value="12">Diciembre</option>
        </select>
      </span>
    </div>
    <div class="col">
      <button class="btn btn-sm btn-info" (click)="applyFilters()">Aplicar filtro</button>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col">
      <table class="table table-striped table-hover table-sm">
        <thead class="btn-primary">
          <tr>
            <th scope="col">Empresa</th>
            <th scope="col" colspan=2>Empleado</th>
            <th scope="col">Facturar</th>
            <td scope="col" colspan=3>Acciones</td>

          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let employee of filteredEmployees | filterByName: 'nombreEmpleado' : searchText; let i = index"
            [ngClass]="employee.facturar == true ? 'text-success' : 'text-danger'">
            <td> {{employee.nombreEmpresa}} </td>
            <td>{{employee.codigoEmpleado}}</td>
            <td class="text-capitalize">{{employee.nombreEmpleado}}</td>
            <td>{{employee.facturar == true ? 'Sí' : 'No'}}</td>
            <td><a [routerLink]="['/employee', employee.codigoEmpresa, employee.codigoEmpleado]"><img title="Editar"
                  style="width: 16px;" src="../../assets/editBtn.png" />
              </a>
            </td>

          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <hr>
  <div style="width: 80%; margin: auto" class="bg-light">
    <label>Total empleados:&nbsp;{{ totalRegistros }}. &nbsp;&nbsp;&nbsp; A facturar:&nbsp;{{ regs2Invoice() }}</label>

  </div>
  <div class="col"></div>
  <hr>
  <div class="row">
    <div class="col"></div>
    <div class="w-25 btn-group">
      <button type="button" class="btn btn-success" onclick="window.history.back()">Volver</button>
    </div>

    <div class="col"></div>
  </div>
</div>
