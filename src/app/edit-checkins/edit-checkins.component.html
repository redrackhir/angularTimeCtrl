<div class="container" style="margin-top: 4%">
  <div class="row">&nbsp;</div>
  <div class="row">
    <div class="col"></div>
    <b class="display-5 col">Listado de fichadas</b>
    <div class="col"></div>
  </div>
  <div class="row">
    <div class="col">

      <!-- <button class="btn btn-sm btn-info" (click)="getEmployees()">refresh</button> -->
    </div>
    <div class=" col">
      <!-- <input type="text" class="col" style="margin: auto" [(ngModel)]="searchText" placeholder="buscar por nombre..."> -->
    </div>
    <div class="col"></div>
  </div>
  <table class="table table-striped table-hover table-sm" style="width: 80%; margin: auto">
    <thead class="btn-primary">
      <tr>
        <th scope="col">#</th>
        <th scope="col">UID</th>
        <th scope="col">Empresa</th>
        <th scope="col">Empleado</th>
        <th scope="col">Fecha/hora</th>
        <th scope="col">Coordenadas</th>
        <td scope="col" colspan=2>Acciones</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Filtros</td>
        <td>
          <select placeholder="Filtrar por empresa" (change)="companyIdChanged_Event($event.target.value)">
            <option *ngFor="let company of companies ; first as isFirst" [value]="company.codigoEmpresa"
            [class.selected]="selectedCompany.codigoEmpresa === company.codigoEmpresa">
              {{ company.nombreEmpresa }}
            </option>
          </select>
        </td>
        <td>
          <input type="text" placeholder="filtrar por CÃ³d. empleado..."
            (change)="employeeIdChanged_Event($event.target.value)" />
        </td>
        <td>
          <input type="date" placeholder="filtrar por Fecha..."
            (change)="dateAndTimeChanged_Event($event.target.value)" />
        </td>
        <td>
          <button class="btn btn-primary" (click)="applyFilter()">Filtrar</button>
        </td>>
      </tr>
      <tr *ngFor="let checkin of checkins ; index as i" class="font-weight-light">
        <td><label>{{ i }}</label></td>
        <td><span class="badge badge-info">{{ checkin.idFichada }}</span></td>
        <td><input type="text" maxlength="5" [(value)]="checkin.codigoEmpresa" /></td>
        <td><input type="text" maxlength="25" [(value)]="checkin.codigoEmpleado" /></td>
        <td><input type="text" maxlength="20" [(value)]="checkin.fechaHora" />
        </td>
        <td><input type="text" maxlength="25" #coordenadas [(value)]="checkin.coordenadas" /></td>
        <td><a class="badge badge-primary" style="cursor: pointer;" (click)="updateCheckin(checkin)">Actualizar</a>
        </td>
        <td><a class="badge badge-danger" [routerLink]="['/checkins']" (click)="deleteCheckin(checkin)">Eliminar</a>
      </tr>
    </tbody>
  </table>

  <div class="row">
    <div class="col"></div>
    <div class="col" *ngIf="loading" class="spinner-border" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <div class="col"></div>
  </div>
</div>
